# ğŸš€ AOIç³»çµ± - å®Œæ•´å•Ÿå‹•æŒ‡å—

## âš¡ æœ€ç°¡å–®çš„æ–¹æ³•ï¼ˆæ¨è–¦ï¼‰

### Windows ä½¿ç”¨è€… - é›™æ“Šå•Ÿå‹•ï¼

1. **å•Ÿå‹•å¾Œç«¯**
   ```
   é›™æ“Š: aoi-system/start-backend.bat
   ```
   - è‡ªå‹•å»ºç«‹è™›æ“¬ç’°å¢ƒ
   - è‡ªå‹•å®‰è£ Python ä¾è³´
   - å•Ÿå‹• Flask ä¼ºæœå™¨åœ¨ http://localhost:5000

2. **å•Ÿå‹•å‰ç«¯**ï¼ˆé–‹å•Ÿæ–°çš„å‘½ä»¤æç¤ºå­—å…ƒè¦–çª—ï¼‰
   ```
   é›™æ“Š: aoi-system/start-frontend.bat
   ```
   - è‡ªå‹•æª¢æŸ¥ä¸¦å®‰è£ Node ä¾è³´ï¼ˆåŒ…å«æ–°çš„ Three.js å¥—ä»¶ï¼‰
   - å•Ÿå‹• Vite é–‹ç™¼ä¼ºæœå™¨åœ¨ http://localhost:5173

3. **è¨ªå•ç³»çµ±**
   ```
   é–‹å•Ÿç€è¦½å™¨: http://localhost:5173
   ```

---

## ğŸ“‹ å•Ÿå‹•è…³æœ¬èªªæ˜

### `start-backend.bat` åšä»€éº¼ï¼Ÿ

```batch
âœ“ æª¢æŸ¥ venv è™›æ“¬ç’°å¢ƒï¼ˆä¸å­˜åœ¨å‰‡å»ºç«‹ï¼‰
âœ“ å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
âœ“ å®‰è£/æ›´æ–° requirements.txt ä¸­çš„æ‰€æœ‰ä¾è³´
  - Flask, OpenCV, NumPy, Pillow
  - PostgreSQL, SQLAlchemy, Alembic
  - PDFç”Ÿæˆå·¥å…·ç­‰
âœ“ å•Ÿå‹• Flask æ‡‰ç”¨ç¨‹å¼ï¼ˆrun.pyï¼‰
âœ“ å¾Œç«¯é‹è¡Œåœ¨: http://0.0.0.0:5000
```

### `start-frontend.bat` åšä»€éº¼ï¼Ÿ

```batch
âœ“ æª¢æŸ¥ node_modulesï¼ˆä¸å­˜åœ¨å‰‡åŸ·è¡Œ npm installï¼‰
âœ“ è‡ªå‹•å®‰è£æ‰€æœ‰ä¾è³´ï¼ŒåŒ…å«ï¼š
  - React, TypeScript, Vite
  - Material-UI
  - Three.js + React Three Fiber
  - Zustand, react-spring
  - æ‰€æœ‰æ–°å¢çš„ 3D ç›¸é—œå¥—ä»¶
âœ“ å•Ÿå‹• Vite é–‹ç™¼ä¼ºæœå™¨
âœ“ å‰ç«¯é‹è¡Œåœ¨: http://localhost:5173
```

---

## ğŸ¯ å®Œæ•´å•Ÿå‹•æµç¨‹

### ç¬¬ä¸€æ¬¡å•Ÿå‹•ï¼ˆå…¨æ–°å®‰è£ï¼‰

#### æ­¥é©Ÿ 1: æº–å‚™è³‡æ–™åº«ï¼ˆå¦‚æœä½¿ç”¨ PostgreSQLï¼‰

```bash
# é–‹å•Ÿ PostgreSQL å‘½ä»¤åˆ—
psql -U postgres

# å»ºç«‹è³‡æ–™åº«
CREATE DATABASE aoi_system;

# é€€å‡º
\q
```

#### æ­¥é©Ÿ 2: é…ç½®ç’°å¢ƒè®Šæ•¸

```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cd aoi-system/backend
copy .env.example .env

# ç·¨è¼¯ .envï¼Œè¨­å®šè³‡æ–™åº«é€£æ¥
DATABASE_URL=postgresql://postgres:ä½ çš„å¯†ç¢¼@localhost:5432/aoi_system
```

#### æ­¥é©Ÿ 3: åˆå§‹åŒ–è³‡æ–™åº«

```bash
cd aoi-system/backend
python init_db.py --create
```

#### æ­¥é©Ÿ 4: å•Ÿå‹•ç³»çµ±

**æ–¹æ³•A: ä½¿ç”¨å•Ÿå‹•è…³æœ¬ï¼ˆæ¨è–¦ï¼‰**
```
1. é›™æ“Š start-backend.bat
2. é›™æ“Š start-frontend.batï¼ˆé–‹æ–°è¦–çª—ï¼‰
```

**æ–¹æ³•B: æ‰‹å‹•å•Ÿå‹•**
```bash
# çµ‚ç«¯æ©Ÿ 1 - å¾Œç«¯
cd aoi-system/backend
venv\Scripts\activate
python run.py

# çµ‚ç«¯æ©Ÿ 2 - å‰ç«¯
cd aoi-system/frontend
npm run dev
```

---

## ğŸ® å•Ÿå‹•å¾Œçš„æ“ä½œ

### è¨ªå•ä¸åŒåŠŸèƒ½

#### 1. URæ©Ÿæ¢°æ‰‹è‡‚3Dæ¨¡æ“¬å™¨ ğŸ¤–

**å¿«é€Ÿæ¸¬è©¦**ï¼šä¿®æ”¹ `frontend/src/App.tsx`
```tsx
import RoboticArmSimulator from './pages/RoboticArmSimulator';

function App() {
  return <RoboticArmSimulator />;
}

export default App;
```

ä¿å­˜å¾Œè‡ªå‹•é‡è¼‰ï¼Œå³å¯çœ‹åˆ°URæ‰‹è‡‚æ¨¡æ“¬å™¨ï¼

#### 2. å–®ç‰‡æª¢æ¸¬ç³»çµ± ğŸ“Š

**å®Œæ•´è·¯ç”±**ï¼šå®‰è£ React Router
```bash
cd aoi-system/frontend
npm install react-router-dom
```

ç„¶å¾Œä¿®æ”¹ `App.tsx`ï¼š
```tsx
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';
import { AppBar, Toolbar, Button } from '@mui/material';
import RoboticArmSimulator from './pages/RoboticArmSimulator';
import SingleInspectionPage from './pages/SingleInspectionPage';

function App() {
  return (
    <BrowserRouter>
      <AppBar position="static">
        <Toolbar>
          <Button color="inherit" component={Link} to="/">
            é¦–é 
          </Button>
          <Button color="inherit" component={Link} to="/single-inspection">
            å–®ç‰‡æª¢æ¸¬
          </Button>
          <Button color="inherit" component={Link} to="/robot-simulator">
            URæ‰‹è‡‚æ¨¡æ“¬å™¨
          </Button>
        </Toolbar>
      </AppBar>

      <Routes>
        <Route path="/" element={<h1>AOIç³»çµ±é¦–é </h1>} />
        <Route path="/single-inspection" element={<SingleInspectionPage />} />
        <Route path="/robot-simulator" element={<RoboticArmSimulator />} />
      </Routes>
    </BrowserRouter>
  );
}

export default App;
```

---

## ğŸ” é©—è­‰ç³»çµ±é‹è¡Œ

### æª¢æŸ¥å¾Œç«¯

è¨ªå•: http://localhost:5000/api/health

æ‡‰è©²çœ‹åˆ°ï¼š
```json
{
  "status": "healthy",
  "message": "AOI Backend is running",
  "database": "connected"
}
```

### æª¢æŸ¥å‰ç«¯

è¨ªå•: http://localhost:5173

æ‡‰è©²çœ‹åˆ°ï¼š
- âœ… AOIç³»çµ±é é¢è¼‰å…¥
- âœ… ç„¡æ§åˆ¶å°éŒ¯èª¤
- âœ… 3Då ´æ™¯æ­£å¸¸æ¸²æŸ“ï¼ˆå¦‚æœåœ¨æ¨¡æ“¬å™¨é é¢ï¼‰

---

## ğŸ› å¸¸è¦‹å•é¡Œæ’è§£

### å•é¡Œ 1: start-backend.bat åŸ·è¡Œå¤±æ•—

**åŸå› **: Python æœªå®‰è£æˆ–æœªåŠ å…¥ PATH

**è§£æ±º**:
```bash
# æª¢æŸ¥ Python ç‰ˆæœ¬
python --version

# æ‡‰é¡¯ç¤º: Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
```

### å•é¡Œ 2: start-frontend.bat å¡åœ¨å®‰è£

**åŸå› **: npm å¥—ä»¶ä¸‹è¼‰é€Ÿåº¦æ…¢

**è§£æ±º**:
```bash
# ä½¿ç”¨æ·˜å¯¶é¡åƒï¼ˆä¸­åœ‹åœ°å€ï¼‰
npm config set registry https://registry.npmmirror.com

# æˆ–ä½¿ç”¨ cnpm
npm install -g cnpm
cd aoi-system/frontend
cnpm install
```

### å•é¡Œ 3: 3Då ´æ™¯é¡¯ç¤ºç©ºç™½

**åŸå› **: Three.js ä¾è³´æœªæ­£ç¢ºå®‰è£

**è§£æ±º**:
```bash
cd aoi-system/frontend
rm -rf node_modules package-lock.json
npm install
```

### å•é¡Œ 4: è³‡æ–™åº«é€£æ¥å¤±æ•—

**éŒ¯èª¤**: `database "aoi_system" does not exist`

**è§£æ±º**:
```bash
# å»ºç«‹è³‡æ–™åº«
psql -U postgres -c "CREATE DATABASE aoi_system;"

# åˆå§‹åŒ–è¡¨æ ¼
cd aoi-system/backend
python init_db.py --create
```

---

## ğŸ“Š ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç€è¦½å™¨ (http://localhost:5173)        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ å–®ç‰‡æª¢æ¸¬é é¢  â”‚  â”‚ URæ¨¡æ“¬å™¨é é¢  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†• HTTP API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Flask å¾Œç«¯ (http://localhost:5000)    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ æª¢æ¸¬ API     â”‚  â”‚ æ‰¹æ¬¡ç®¡ç† API  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†• SQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL (localhost:5432)           â”‚
â”‚   è³‡æ–™åº«: aoi_system                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ é€²éšè¨­å®š

### ä¿®æ”¹å¾Œç«¯åŸ è™Ÿ

ç·¨è¼¯ `backend/run.py`:
```python
app.run(host='0.0.0.0', port=5001, debug=True)  # æ”¹ç‚º 5001
```

### ä¿®æ”¹å‰ç«¯åŸ è™Ÿ

ç·¨è¼¯ `frontend/vite.config.ts`:
```typescript
export default defineConfig({
  server: {
    port: 3000,  // æ”¹ç‚º 3000
  }
})
```

---

## ğŸ“¦ å®Œæ•´åŠŸèƒ½æ¸…å–®

### å¾Œç«¯åŠŸèƒ½
- âœ… å½±åƒä¸Šå‚³
- âœ… ç‘•ç–µæª¢æ¸¬
- âœ… å°ºå¯¸æ¸¬é‡
- âœ… æ‰¹æ¬¡ç®¡ç†
- âœ… æª¢æ¸¬è¨˜éŒ„å„²å­˜
- âœ… PostgreSQL è³‡æ–™åº«

### å‰ç«¯åŠŸèƒ½
- âœ… å–®ç‰‡æª¢æ¸¬ä»‹é¢
- âœ… æ‰¹æ¬¡ç®¡ç†ä»‹é¢
- âœ… URæ©Ÿæ¢°æ‰‹è‡‚3Dæ¨¡æ“¬å™¨
- âœ… å³æ™‚çµ±è¨ˆå ±è¡¨
- âœ… å¤šè¦–è§’3Då ´æ™¯
- âœ… è‡ªå‹•åˆ†æ€å‹•ç•«

---

## ğŸ‰ å•Ÿå‹•æˆåŠŸæ¨™èªŒ

ç•¶æ‚¨çœ‹åˆ°ä»¥ä¸‹ç•«é¢ï¼Œè¡¨ç¤ºç³»çµ±æˆåŠŸé‹è¡Œï¼š

### å¾Œç«¯æˆåŠŸ
```
========================================
Starting AOI Backend Server
========================================

Activating virtual environment...
Installing dependencies...
...
 * Running on http://0.0.0.0:5000
 * Restarting with stat
```

### å‰ç«¯æˆåŠŸ
```
========================================
Starting AOI Frontend Server
========================================

Starting Vite dev server...
Frontend will be available at http://localhost:5173

  VITE v6.2.0  ready in 1234 ms

  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
  âœ  press h + enter to show help
```

### 3Då ´æ™¯æˆåŠŸ
- âœ… çœ‹åˆ°ç°è‰²å·¥ä½œå°
- âœ… çœ‹åˆ°URæ‰‹è‡‚ï¼ˆæ·±è—è‰²ï¼‰
- âœ… çœ‹åˆ°å‚³é€å¸¶
- âœ… çœ‹åˆ°ç¶ è‰²/ç´…è‰²å®¹å™¨
- âœ… èƒ½å¤ æ—‹è½‰è¦–è§’ï¼ˆæ»‘é¼ æ‹–å‹•ï¼‰

---

## ğŸš¦ å¿«é€Ÿå•Ÿå‹•æª¢æŸ¥æ¸…å–®

é–‹å§‹å‰ç¢ºèªï¼š
- [ ] å·²å®‰è£ Python 3.8+
- [ ] å·²å®‰è£ Node.js 16+
- [ ] å·²å®‰è£ PostgreSQLï¼ˆå¦‚ä½¿ç”¨è³‡æ–™åº«ï¼‰
- [ ] å·²å»ºç«‹ aoi_system è³‡æ–™åº«
- [ ] å·²é…ç½® .env æª”æ¡ˆ

å•Ÿå‹•ç³»çµ±ï¼š
- [ ] é›™æ“Š start-backend.bat
- [ ] ç­‰å¾…å¾Œç«¯å•Ÿå‹•å®Œæˆ
- [ ] é›™æ“Š start-frontend.bat
- [ ] ç­‰å¾…å‰ç«¯å•Ÿå‹•å®Œæˆ
- [ ] é–‹å•Ÿç€è¦½å™¨è¨ªå• http://localhost:5173
- [ ] çœ‹åˆ°ç³»çµ±é é¢ä¸¦æ­£å¸¸é‹ä½œ

---

## ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ

### æª¢æŸ¥è¨˜éŒ„æª”
- **å¾Œç«¯éŒ¯èª¤**: æŸ¥çœ‹å‘½ä»¤æç¤ºå­—å…ƒè¦–çª—çš„è¼¸å‡º
- **å‰ç«¯éŒ¯èª¤**: é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰â†’ Console

### åƒè€ƒæ–‡æª”
- ğŸ“˜ è³‡æ–™åº«è¨­è¨ˆ: `backend/database_design.md`
- ğŸ“— å¾Œç«¯è¨­å®š: `backend/SETUP_GUIDE.md`
- ğŸ“™ URæ¨¡æ“¬å™¨: `ROBOTIC_ARM_SETUP.md`
- ğŸ“• å®Œæˆå ±å‘Š: `ROBOTIC_ARM_COMPLETE.md`

---

## ğŸŠ é–‹å§‹ä½¿ç”¨ï¼

ç¾åœ¨ï¼Œåªéœ€è¦ï¼š

```
1. é›™æ“Š start-backend.bat  â† å•Ÿå‹•å¾Œç«¯
2. é›™æ“Š start-frontend.bat â† å•Ÿå‹•å‰ç«¯
3. é–‹å•Ÿ http://localhost:5173 â† é–‹å§‹ä½¿ç”¨ï¼
```

å°±é€™éº¼ç°¡å–®ï¼äº«å—æ‚¨çš„ AOI ç³»çµ±å’Œ UR æ©Ÿæ¢°æ‰‹è‡‚æ¨¡æ“¬å™¨å§ï¼ ğŸš€âœ¨
